#
#--Makefile to remake the executable and copy to this directory
#  Generated by /Users/dprice/ndspmhd/scripts/writemake.sh: Fri 14 Feb 2014 16:56:43 EST
#
#NDSPMHD_DIR=/Users/dprice/ndspmhd/
export SETUP1D=setup_dustybox.f90
export SETUP2D=setup_dustybox.f90
export SETUP3D=setup_dustybox.f90

default:1D

3D: checkdir
	cd ${NDSPMHD_DIR}; make 3D; cd -; cp ${NDSPMHD_DIR}/3DSPMHD .
2D: checkdir
	cd ${NDSPMHD_DIR}; make 2D; cd -; cp ${NDSPMHD_DIR}/2DSPMHD .
1D: checkdir
	cd ${NDSPMHD_DIR}; make 1D; cd -; cp ${NDSPMHD_DIR}/1DSPMHD .
3DGR: checkdir
	cd ${NDSPMHD_DIR}; make 3DGR; cd -; cp ${NDSPMHD_DIR}/3DGRSPMHD .
2DGR: checkdir
	cd ${NDSPMHD_DIR}; make 2DGR; cd -; cp ${NDSPMHD_DIR}/2DGRSPMHD .
1DGR: checkdir
	cd ${NDSPMHD_DIR}; make 1DGR; cd -; cp ${NDSPMHD_DIR}/1DGRSPMHD .
edit: checkdir checkeditor
	cd ${NDSPMHD_DIR}; make edit1D
moddump: checkdir
	cd ${NDSPMHD_DIR}/src; make moddump1D
moddumpc: checkdir
	cd ${NDSPMHD_DIR}/src; make clean; make moddump1D
make: checkdir checkeditor
	cd ${NDSPMHD_DIR}/src; $(EDITOR) Makefile &
clean: checkdir
	cd ${NDSPMHD_DIR}; make clean
cleanfiles:
	rm *.ev *_0*.dat version
cleanallfiles:
	rm *.ev *_0*.dat version ?DSPMHD
checkdir:
   ifndef NDSPMHD_DIR
	@echo
	@echo "ERROR: need NDSPMHD_DIR set to location of ndspmhd code"
	@echo "       e.g. export NDSPMHD_DIR=~/ndspmhd"
	@echo
	@quit
   endif
checkeditor:
   ifndef EDITOR
	@echo
	@echo "ERROR: need EDITOR variable set for this option (e.g. export EDITOR=emacs)"
	@echo
	@quit
   endif
